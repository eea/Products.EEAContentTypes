<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
  lang="en"
  metal:use-macro="here/main_template/macros/master"
  i18n:domain="plonehelpcenter">

  <head>
    <metal:css fill-slot="css_slot">
      <style type="text/css" media="all"
        tal:content="string: @import url($portal_url/helpcenter.css);"></style>
    </metal:css>
  </head>

<body>
  <div metal:fill-slot="main">
    <div metal:define-macro="body" 
      tal:define="pss python:modules['Products.PythonScripts.standard']; 
                  sections here/@@hcf_view/getItemsBySections;
                  noSections python:len(sections) == 1;
                  full request/full|nothing">

      <h1 tal:content="here/Title" class="documentFirstHeading">
        Folder Title
      </h1>
     
      <div tal:replace="structure provider:plone.documentactions" />
      

      <tal:entirefaq condition="full">
        <a class="link-expand"
          tal:attributes="href python:'%s' % here.absolute_url()">
	  <span i18n:translate="phc_up_to_toc">Up to Table of Contents</span>
	  </a>
      </tal:entirefaq>

      <tal:entirefaq condition="not: full">
        <a class="link-expand"
          tal:attributes="href python:'%s?full=1' % here.absolute_url()">
	  <span i18n:translate="phc_view_entire_faq">View entire FAQ in full</span>
	  </a>
      </tal:entirefaq>


      <div class="documentDescription"
        tal:content="here/Description">
        Description.
      </div>

      <table class="sectionIndex" tal:condition="not:noSections">
        <thead>
            <tr><th i18n:translate="phc_index_sections">Sections</th></tr>
        </thead>
        <tbody>
            <tr tal:repeat="section sections">
                <td><a tal:attributes="href python:'%s#%s'% (here.absolute_url(), section['id'],)"
                       tal:content="section/section">Section</a>
                </td>
            </tr>
        </tbody>
      </table>

      <div tal:repeat="section sections">

        <h2>
          <a class="link-anchor"
             tal:content="section/section"
             tal:attributes="name section/id">
            Section Heading
          </a>
        </h2>

        <tal:section condition="not:full">
          <a class="link-expand"
            tal:attributes="href python:'%s/faqsection_view?section=%s' % (here.absolute_url(), pss.url_quote(section['section']) )">
	    <span i18n:translate="phc_view_entire_section">
            View section in full
	    </span>
	    </a> 

          <ol>
            <li tal:repeat="faq python:section['items']">
                <a href="" tal:content="faq/Title" 
                   tal:attributes="href faq/getURL;
                                   class string:state-${faq/review_state}">FAQ</a>
                <img src="error_icon.gif" alt="!" class="outdatedMarker"
                     tal:condition="faq/isOutdated|nothing"
                     title="This FAQ applies to a previous version" 
                     i18n:attributes="title"/>
            </li>

          </ol>

        </tal:section>

        <div tal:condition="full" 
          tal:repeat="faq python:section['items']">
         <tal:faq define="faq faq/getObject">
          
          <h3>
            <img tal:replace="structure here/faq_icon.gif" />
            <span tal:replace="faq/Title">Question</span>
            <img src="error_icon.gif" alt="!" class="outdatedMarker"
                 tal:condition="faq/isOutdated|nothing"
                 title="This FAQ applies to a previous version" 
                 i18n:attributes="title"/>
          </h3>

          <p tal:condition="faq/Description"
            tal:content="structure faq/Description"
	    class="portletContent even">
            Full Question
          </p>

          <div tal:content="structure faq/getAnswer"
	  class="portletContent odd">
            Answer
          </div>

          <p tal:condition="faq/Versions" 
          class="discreet">
          This FAQ applies to: 
          <span tal:condition="faq/Versions"
            metal:use-macro="python:faq.widget('versions')">
            Versions
          </span>

          <span tal:condition="not: faq/Versions">
	    <span i18n:translate="phc_any_version">
            Any version.
	    </span>
          </span>
          </p>
        
        </tal:faq>
        </div>
      </div>
    </div>

    <div tal:replace="structure provider:plone.belowcontenttitle" />

  </div>
</body>

</html>
